---
date: 2021-11-26
title: "정보보안기사&산업기사 필기 32장 요약 - FTP (애플리케이션 보안)"
subtitle: "정보보안기사 필기 32장 요약내용입니다."
categories: 보안기사
tags:
  - 정보보안
  - 정보보안산업기사
  - 기사

# 목차
toc: true  
toc_sticky: true 
---


\* 2020 조현준 정보보안기사 산업기사 필기 + 핵심기출 1200제 정보보안기사 & 산업기사 필기 교재를 기반으로 요약하였습니다.


## Section 32. FTP (애플리케이션 보안)

### 1. FTP(File Transfer Protocol)

▶ **하나의 호스트에서 다른 호스트로 파일을 복사하기 위해 TCP/IP에 의해 제공되는 프로토콜**

<br>

### 2. FTP 연결모드

#### 1) 능동모드

**FTP 클라이언트의 기본 값**

→ 서버가 21,20번 포트 사용

→ 서버에서는 두 개의 포트만 열면 서비스 가능

→ 두 번쨰 connection은 서버에서 클라이언트로 접속

→ 클라이언트에 방화벽 설치시 접속 불가

##### [동작 방식]

1) 클라이언트는 서버의 21번 포트로 연결하여 제어 채널을 생성

2) 사용자가 파일 목록을 불러오는 명령을 입력하면 클라이언트는 1024번 이상의 임시 포트를 결정하여 서버에게 전달

3) 서버는 클라이언트가 알려준 포트로 연결을 설정하여 데이터 채널을 생성

4) 데이터 패널을 통해 데이터를 송신한 후 데이터 채널 연결 종료

#### 2) 수동모드

→ 서버가 21, 1024 이후 포트 사용

→ 데이터 전송 위해 1024번 이후 포트 사용

→ 서버에서 ㅡㄹ라이언트로 접속해야하는 모순 해결을 위해 고안된 방식

→ 서버에서는 21번 포트와 1024번 이후의 모든 포트 오픈

→ 보안 위해 서버에서 수동모드로 사용할 포트 제한

##### [동작 방식]

1) 클라이언트는 서버의 21번 포트로 연결하여 제어채널을 생성 

2) 사용자가 파일 목록을 불러오는 명령을 입력하면 클라이언트는 수동모드로 연결하기 위해 PASV 명령을 전송하고 서버 는 1024번 이상의 임시 포트를 결정하여 클라이언트에게 전달한다. 

3) 클라이언트는 서버가 알려준 포트로 연결을 설정하여 데이터채널을 생성 

4) 데이터채널을 통해 데이터를 송신한 후 데이터채널 연결을 종료 

<br>

### 3. FTP 보안 위협 및 대책

#### 1) FTP

- FTP는 비밀번호, 데이터 전송 연결이 평문으로 되어있어 공격자에게 노출 가능

- 보안 소켓 계층(SSL, Secure Socket Layer)을 추가하여 보안

#### 2) SFTP(Secure FTP)

- UNIX에서 제공하는 SSH 프로토콜의 일부분

- SSH에서 클라이언트와 SSH 서버사이에 보안 연결이 성립되 었을 때, 이 연결을 사용할 수 있는 응용프로그램 중 하나

#### 3) TFTP 보안

- TFTP는 보안 기능이 전혀 없기 때문에 TFTP가 중요하지 않은 파일에만 접근할 수 있도록 제한하거나 TFTP 서버 근처에 있는 라우터에 보안을 구현하여, 특정 호스트만 서버에 접근하도록 해야함

- TFTP가 필요한 경우 secure mode로 운영 

#### 4) Bounce attack​

- FTP 서버가 데이터를 전송할 때 목적지를 검사하지 않는 문제점을 이용

- 익명 FTP 서버를 이용해 그 FTP 서버를 경유해서 호스트를 스캔

- FTP PORT 명령을 이용

- 네트워크를 포트 스캐닝 하는데 사용

<br>

**[보안대책]**

1) FTP 규약을 어느 정도 제한하는 방법으로 다른 서비스가 20번 포트 접속을 요청하면 거절하는 방법

2) 익명 FTP 서버의 경우 임시적으로 ./incoming에 파일 업로드를 할 수 없게 하는 방법 
